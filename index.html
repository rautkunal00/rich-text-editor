<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rich Text Editor</title>
  <link rel="stylesheet" href="./style.css">
</head>

<body>
  <div class="toolbar">
    <button id="bold-btn">Bold</button>
    <button id="italic-btn">Italic</button>
    <button id="underline-btn">Underline</button>
    <button id="highlight-btn">Highlight</button>
    <button id="bullet-list-btn">Bullet List</button>
    <button id="ordered-list-btn">Ordered List</button>
    <button id="align-left-btn">Left</button>
    <button id="align-center-btn">Center</button>
    <button id="align-right-btn">Right</button>
    <button id="align-justify-btn">Justify</button>
    <button id="insert-table-btn">Insert Table</button>
    <button id="add-row-btn">Add Row</button>
    <button id="add-col-btn">Add Col</button>
    <button id="delete-row-btn">Delete Row</button>
    <button id="delete-col-btn">Delete Col</button>
    <button id="delete-table-btn">Delete Table</button>
    <button id="image-upload-btn">Add Image</button>
    <button id="undo-btn">Undo</button>
    <button id="redo-btn">Redo</button>
    <button id="clear-formatting-btn">Clear Formatting</button>
    <select id="font-size-select">
      <option value="">Font Size</option>
      <option value="12px">12 px</option>
      <option value="14px">14 px</option>
      <option value="16px">16 px</option>
      <option value="18px">18 px</option>
      <option value="20px">20 px</option>
      <option value="24px">24 px</option>
      <option value="28px">28 px</option>
    </select>
    <select id="font-family-select">
      <option value="">Font Family</option>
      <option value="Arial, sans-serif">Arial</option>
      <option value="'Times New Roman', serif">Times New Roman</option>
      <option value="'Courier New', monospace">Courier New</option>
      <option value="'Georgia', serif">Georgia</option>
      <option value="'Comic Sans MS', cursive">Comic Sans MS</option>
    </select>
    <button id="text-red-btn">Red</button>
    <button id="text-blue-btn">Blue</button>
    <button id="text-clear-btn">Clear Color</button>
    <button id="capitalize-uppercase-btn">Uppercase</button>
    <button id="capitalize-lowercase-btn">Lowercase</button>
    <button id="capitalize-capitalize-btn">Capitalize</button>
    <button id="capitalize-clear-btn">Clear Capitalization</button>
    <button id="checklist-btn">Checklist</button>
    <button id="format-copy-btn">Copy Format</button>
    <button id="format-apply-btn">Apply Format</button>
    <button id="toggle-spellcheck-btn">Toggle Spellcheck</button>
    <button id="open-search-dialog-btn">Search & Replace</button>
    <button id="add-link-btn">Add Link</button>
    <button id="add-anchor-btn">Add Anchor</button>
  </div>
  <div id="editor" class="tiptap" spellcheck="true"></div>
  <div id="word-count" class="mat-hint">Words: 0</div>

  <div class="search-dialog" id="search-dialog">
    <div class="row">
      <label for="search-input">Search:</label>
      <input type="text" id="search-input" placeholder="Search..." />
    </div>
    <div class="row">
      <label for="replace-input">Replace:</label>
      <input type="text" id="replace-input" placeholder="Replace with..." />
      <button id="replace-btn">Replace</button>
      <button id="replace-all-btn">Replace All</button>
    </div>
    <div class="actions">
      <button id="search-btn">Search</button>
      <button id="close-search-dialog" title="Close Search Panel">Ã—</button>
    </div>
  </div>

<div id="custom-link-dialog">
  <h3>Insert/Edit Link</h3>
  <form id="link-form">
    <div>
      <label>Text to display:</label>
      <input type="text" id="link-text"/>
    </div>
    <div>
      <label>URL:</label>
      <input type="text" id="link-url"/>
    </div>
    <div>
      <label>Anchor:</label>
      <select id="link-anchor">
        <option value="">None</option>
      </select>
    </div>
    <div>
      <label><input type="checkbox" id="link-target" /> Open in new window</label>
    </div>
    <div>
      <button type="submit">OK</button>
      <button type="button" id="link-cancel">Cancel</button>
    </div>
  </form>
</div>

<div id="custom-anchor-dialog" style="display:none; position: fixed; top: 25%; left: 50%; transform: translate(-50%, 0); background: #fff; padding: 16px; border: 1px solid #aaa; border-radius: 6px; z-index: 1000; min-width: 250px; max-width: 90vw; box-sizing: border-box;">
  <h3>Add Anchor</h3>
  <form id="anchor-form">
    <div>
      <label for="anchor-id-input">Anchor ID:</label>
      <input type="text" id="anchor-id-input" required />
    </div>
    <div>
      <button type="submit">Add</button>
      <button type="button" id="anchor-cancel-btn">Cancel</button>
    </div>
  </form>
</div>

  <script type="module">
    import { initTiptapEditor } from './src/index.ts';
    initTiptapEditor({
      selector: '#editor',
      editorConfig: {
        disabled: true,
        hideMenu: false,
        hideToolbar: false,
      }
    });
  </script>
</body>

</html>