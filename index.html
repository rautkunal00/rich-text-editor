<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rich Text Editor</title>
  <link rel="stylesheet" href="./style.css">
</head>

<body>
  <div id="editor" spellcheck="true"></div>
  <div id="word-count" class="mat-hint">Words: 0</div>

  <div class="search-dialog" id="search-dialog">
    <div class="row">
      <label for="search-input">Search:</label>
      <input type="text" id="search-input" placeholder="Search..." />
    </div>
    <div class="row">
      <label for="replace-input">Replace:</label>
      <input type="text" id="replace-input" placeholder="Replace with..." />
      <button id="replace-btn">Replace</button>
      <button id="replace-all-btn">Replace All</button>
    </div>
    <div class="actions">
      <button id="search-btn">Search</button>
      <button id="close-search-dialog" title="Close Search Panel">Ã—</button>
    </div>
  </div>

  <div id="custom-link-dialog">
    <h3>Insert/Edit Link</h3>
    <form id="link-form">
      <div>
        <label>Text to display:</label>
        <input type="text" id="link-text" />
      </div>
      <div>
        <label>URL:</label>
        <input type="text" id="link-url" />
      </div>
      <div>
        <label>Anchor:</label>
        <select id="link-anchor">
          <option value="">None</option>
        </select>
      </div>
      <div>
        <label><input type="checkbox" id="link-target" /> Open in new window</label>
      </div>
      <div>
        <button type="submit">OK</button>
        <button type="button" id="link-cancel">Cancel</button>
      </div>
    </form>
  </div>

  <div id="custom-anchor-dialog"
    style="display:none; position: fixed; top: 25%; left: 50%; transform: translate(-50%, 0); background: #fff; padding: 16px; border: 1px solid #aaa; border-radius: 6px; z-index: 1000; min-width: 250px; max-width: 90vw; box-sizing: border-box;">
    <h3>Add Anchor</h3>
    <form id="anchor-form">
      <div>
        <label for="anchor-id-input">Anchor ID:</label>
        <input type="text" id="anchor-id-input" required />
      </div>
      <div>
        <button type="submit">Add</button>
        <button type="button" id="anchor-cancel-btn">Cancel</button>
      </div>
    </form>
  </div>

  <script type="module">
    import { initTiptapEditor } from './src/index.ts';

    const editor = initTiptapEditor({
      selector: '#editor',
      editorConfig: {
        disabled: false,
        showMenu: false,
        showToolbar: true,
      }
    });
  </script>
  <script src="https://unpkg.com/lucide@latest"></script>
</body>

</html>